<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Raising Susan üíï</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    /* ‚≠ê MODERNIZED VARIABLES */
    :root {
      --primary: #d87093; /* Soft Pink */
      --secondary: #ffc0cb; /* Lighter Pink */
      --text: #3d344a;
      --bg-light: #fefaff;
      --bg-medium: #fff0f5; /* Light Card Background */
      --bg-gradient: linear-gradient(180deg, var(--bg-light) 0%, #fff7f7 100%);
      --shadow: 0 6px 15px rgba(216, 112, 147, 0.15); /* Soft pink shadow */
      --radius: 12px;
      --stat-love: #e74c3c;
      --stat-smarts: #3498db;
      --stat-happiness: #f39c12;
      --stat-health: #2ecc71;
    }
    
    * { box-sizing: border-box; }

    body {
      font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
      max-width: 650px;
      margin: 0 auto;
      padding: 30px 16px;
      background: var(--bg-gradient);
      color: var(--text);
      line-height: 1.5;
      min-height: 100vh;
    }
    
    /* FLOATING BISCUIT ICON (from your main site) */
    .biscuit-icon {
      font-size: 3.5rem;
      color: var(--primary);
      margin: 0 auto 15px; 
      animation: biscuit-bounce 1.8s infinite alternate cubic-bezier(.27,.67,.33,.95);
      display: block;
    }
    @keyframes biscuit-bounce {
      to { transform: translateY(-10px) scale(1.05);}
      from { transform: translateY(0px) scale(1);}
    }

    h1 {
      text-align: center;
      font-size: 2.2em;
      color: var(--primary);
      margin: 0 0 20px;
    }
    
    .susan-avatar {
      font-size: 5em;
      text-align: center;
      margin: 20px 0;
      transition: transform 0.3s ease;
    }

    /* GENERAL BOX STYLES */
    .panel {
      background: var(--bg-medium);
      padding: 20px;
      border-radius: var(--radius);
      margin: 18px 0;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 192, 203, 0.5);
    }
    
    .info-box {
      text-align: center;
      font-size: 1.1em;
      font-weight: 500;
      color: var(--primary);
    }

    /* STATS DISPLAY */
    .stats-container {
      margin: 25px 0 15px;
      padding: 0 10px;
    }
    .stat-bar {
      margin-bottom: 12px;
    }
    .stat-bar label {
      display: flex;
      justify-content: space-between;
      font-size: 0.9em;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .progress-track {
      height: 10px;
      background: #f0f0f0;
      border-radius: 5px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      transition: width 0.4s ease-out;
      border-radius: 5px;
    }
    
    /* ACTIONS & BUTTONS */
    #actions, .action-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 15px;
    }
    button {
      flex-grow: 1;
      min-width: 120px;
      padding: 12px 15px;
      border: none;
      border-radius: var(--radius);
      background: var(--primary);
      color: white;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    button:hover { background: #c56383; transform: translateY(-1px); }
    button:active { transform: translateY(0); }

    input {
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      max-width: 300px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      font-size: 16px;
      text-align: center;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    }
    
    /* JOURNAL & FINAL SCENE */
    .journal {
      background: var(--bg-light);
      border: 1px solid #f0e6f2;
      padding: 15px;
      border-radius: var(--radius);
      font-size: 0.95em;
      max-height: 200px;
      overflow-y: auto;
      margin-top: 15px;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    }
    .final-letter, .stage {
      background: #fcfcfc;
      padding: 25px;
      border-radius: var(--radius);
      margin-top: 25px;
      font-style: italic;
      line-height: 1.7;
      border: 1px solid var(--secondary);
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    }
    .stage {
      text-align: center;
      opacity: 0;
      animation: fadeIn 1s forwards;
      margin-bottom: 25px;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    .avatar {
      font-size: 4em;
      margin: 15px 0;
    }
    
    /* FOOTER */
    footer {
      text-align: center;
      margin-top: 30px;
      color: var(--text-muted);
      font-size: 0.9em;
      padding-top: 15px;
      border-top: 1px dashed var(--secondary);
    }
    .heart { color: var(--stat-love); }
    
    @media (max-width: 450px) {
      .action-buttons button {
        min-width: 45%;
      }
    }
  </style>
</head>
<body>
  <div class="biscuit-icon" aria-label="Cookie Icon">
    <i class="fas fa-cookie-bite" aria-hidden="true"></i>
  </div>
  
  <h1>Raising Susan üíï</h1>
  
  <div class="susan-avatar" id="susanAvatar">ü§∞</div>
  
  <div class="panel info-box" id="gameInfo">
    Loading Susan...
  </div>
  
  <div class="stats-container panel" id="statsDisplay">
    </div>
  
  <div class="panel">
    <div class="action-buttons" id="actions">
      </div>
    <div class="action-buttons" style="margin-top: 20px;">
        <button onclick="fastForward()" style="background:#5e72e4;">‚è© Fast-Forward 7 Days</button>
        <button onclick="resetGame()" style="background:#ef4444;">‚Üª Reset Game</button>
    </div>
  </div>
  
  <div id="journalSection"></div>
  <div id="finalScene"></div>
  
  <footer>
    Created with love by Sweet Biscuit44 <span class="heart">‚ù§Ô∏è</span><br>
    Your support helps keep games like this free.<br>
    <a href="https://www.paypal.com/paypalme/sweetbiscuit44" target="_blank" style="color:var(--primary); font-weight: 600;">Support via PayPal</a>
  </footer>
  
  <script>
    let susan = JSON.parse(localStorage.getItem('susan')) || initSusan();

    function initSusan() {
      return {
        birthDate: null,
        days: 0,
        love: 50,
        smarts: 50,
        happiness: 50,
        health: 50,
        isBorn: false,
        hospital: '',
        journal: ['Susan‚Äôs story begins...']
      };
    }

    function saveGame() {
      localStorage.setItem('susan', JSON.stringify(susan));
    }

    function getStage(days) {
      if (days < 0) return 'unborn';
      if (days < 14) return 'newborn';
      if (days < 90) return 'baby';
      if (days < 365) return 'toddler';
      if (days < 1095) return 'child';
      if (days < 2190) return 'kid';
      if (days < 4015) return 'teen';
      if (days >= 6570) return 'adult';
      return 'teen';
    }

    function getAvatar(stage) {
      const avatars = {
        unborn: 'ü§∞',
        newborn: 'üë∂',
        baby: 'üë∂',
        toddler: 'üëß', /* Using slightly older avatar */
        child: 'üßí',
        kid: 'üßë',
        teen: 'üßë‚Äçüéì',
        adult: 'üë©'
      };
      return avatars[stage] || 'üë∂';
    }

    function addToJournal(entry) {
      susan.journal.push(`${new Date().toLocaleDateString()}: ${entry}`);
      saveGame();
    }

    // ‚≠ê NEW: Function to render the stats as progress bars
    function renderStats() {
      const stats = [
        { key: 'love', label: '‚ù§Ô∏è Love', value: susan.love, color: 'var(--stat-love)' },
        { key: 'smarts', label: 'üß† Smarts', value: susan.smarts, color: 'var(--stat-smarts)' },
        { key: 'happiness', label: 'üòä Happiness', value: susan.happiness, color: 'var(--stat-happiness)' },
        { key: 'health', label: 'üõ°Ô∏è Health', value: susan.health, color: 'var(--stat-health)' }
      ];
      
      const html = stats.map(stat => `
        <div class="stat-bar">
          <label>
            <span>${stat.label}</span>
            <span>${Math.round(stat.value)}%</span>
          </label>
          <div class="progress-track">
            <div class="progress-fill" style="width: ${stat.value}%; background-color: ${stat.color};"></div>
          </div>
        </div>
      `).join('');
      
      document.getElementById('statsDisplay').innerHTML = html;
    }

    function updateUI() {
      const now = Date.now();
      
      if (!susan.isBorn) {
        document.getElementById('gameInfo').innerHTML = `
          Susan will soon be born! ‚ù§Ô∏è<br>
          <input type="text" id="hospitalInput" placeholder="Enter hospital name (e.g., Hope General)"><br>
          <button onclick="confirmBirthCustom()">‚úÖ Welcome Susan</button>
        `;
        document.getElementById('actions').innerHTML = '';
        document.getElementById('statsDisplay').innerHTML = '';
        document.getElementById('susanAvatar').textContent = 'ü§∞';
        document.getElementById('journalSection').innerHTML = '';
        document.getElementById('finalScene').innerHTML = '';
        return;
      }

      // Ensure days are recalculated if birthDate is set
      const daysPassed = Math.floor((now - susan.birthDate) / (1000 * 60 * 60 * 24));
      susan.days = Math.max(0, daysPassed);

      const stage = getStage(susan.days);
      const avatar = getAvatar(stage);
      document.getElementById('susanAvatar').textContent = avatar;

      if (susan.days >= 6570) {
        showFinalGallery();
        document.getElementById('actions').innerHTML = '';
        return;
      }
      
      // Update Stats
      renderStats();
      
      let message = '';
      if (stage === 'newborn') message = `Susan is ${susan.days} days old. She needs constant love and rest.`;
      else if (stage === 'baby') message = `Susan is learning to smile and exploring with her hands.`;
      else if (stage === 'toddler') message = `Susan is walking, talking, and curious about everything!`;
      else if (stage === 'child') message = `Susan loves learning and making friends.`;
      else if (stage === 'kid') message = `Susan is forming strong opinions and needs your guidance.`;
      else if (stage === 'teen') message = `Susan is dreaming about her future and finding her path.`;

      document.getElementById('gameInfo').innerHTML = `<p>${message}</p>`;

      document.getElementById('actions').innerHTML = `
        <button onclick="doAction('feed')">üçº Feed Susan</button>
        <button onclick="doAction('sleep')">üõå Bedtime</button>
        <button onclick="doAction('play')">üß∏ Play/Activity</button>
        <button onclick="doAction('talk')">üí¨ Read/Talk</button>
      `;

      const recent = susan.journal.slice(-5).reverse();
      document.getElementById('journalSection').innerHTML = `
        <div class="journal">
          <strong>Susan's Life Journal (Latest Entries):</strong><br>
          ${recent.map(e => `‚Ä¢ ${e}`).join('<br>')}
        </div>
      `;
      
      saveGame();
    }

    function confirmBirthCustom() {
      const input = document.getElementById('hospitalInput').value.trim();
      const hospital = input || "St. Mary‚Äôs Hospital";
      susan.isBorn = true;
      susan.birthDate = Date.now();
      susan.hospital = hospital;
      susan.journal = [`Susan‚Äôs story begins... Born at ${hospital}!`]; // Reset journal entry structure
      updateUI();
    }

    function doAction(action) {
      if (susan.days >= 6570) return;
      let msg = '';
      
      // Decay stats over time for challenge
      susan.happiness = Math.max(0, susan.happiness - 1);
      susan.health = Math.max(0, susan.health - 0.5); 

      if (action === 'feed') {
        susan.health = Math.min(100, susan.health + 8);
        susan.happiness += 3;
        msg = 'You fed Susan a nutritious meal. She feels full and healthy!';
      } else if (action === 'sleep') {
        susan.health = Math.min(100, susan.health + 6);
        susan.love += 4;
        msg = 'Susan had a restful sleep.';
      } else if (action === 'play') {
        susan.happiness = Math.min(100, susan.happiness + 7);
        susan.smarts += 3;
        msg = 'You played with Susan! She laughed with joy and learned something new.';
      } else if (action === 'talk') {
        susan.love = Math.min(100, susan.love + 5);
        susan.smarts = Math.min(100, susan.smarts + 4);
        msg = 'You read a story. Susan‚Äôs vocabulary and love for you grew.';
      }

      susan.love = Math.min(100, susan.love);
      susan.smarts = Math.min(100, susan.smarts);
      susan.happiness = Math.min(100, susan.happiness);
      
      addToJournal(msg);
      updateUI();
    }

    function fastForward() {
      if (!susan.isBorn) { alert('Please welcome Susan first!'); return; }
      if (susan.days >= 6570) { updateUI(); return; }

      const oldDays = susan.days;
      susan.days += 7;
      
      // Simulate weekly decay
      susan.love = Math.max(0, susan.love - 3);
      susan.smarts = Math.max(0, susan.smarts - 2);
      susan.happiness = Math.max(0, susan.happiness - 5);
      susan.health = Math.max(0, susan.health - 4);
      
      // Quick jump to adult stage if needed
      if (susan.days >= 6570 && oldDays < 6570) {
          susan.days = 6570;
          addToJournal('Susan reached 18 years old!');
      } else {
          addToJournal('Fast-forwarded 7 days.');
      }
      
      susan.birthDate -= 7 * 24 * 60 * 60 * 1000;
      
      saveGame();
      updateUI();
    }

    function resetGame() {
      if (confirm('Start over with a new Susan? Her story will be lost.')) {
        localStorage.removeItem('susan');
        susan = initSusan();
        updateUI();
      }
    }

    function showFinalGallery() {
      // Calculate Personality & path
      const traits = [];
      if (susan.love > 75) traits.push('loving');
      if (susan.smarts > 75) traits.push('curious');
      if (susan.happiness > 75) traits.push('joyful');
      if (susan.health > 75) traits.push('healthy');
      const personality = traits.length ? traits.join(' and ') : 'thoughtful';

      let path = 'writer';
      if (susan.smarts >= susan.love && susan.smarts >= susan.happiness) path = 'scientist';
      else if (susan.love >= susan.happiness) path = 'teacher';
      else path = 'artist';

      document.getElementById('gameInfo').innerHTML = `<p>üéâ Susan is 18 years old!</p>`;
      document.getElementById('susanAvatar').textContent = 'üë©';

      // Build gallery HTML
      const galleryHTML = `
        <div class="final-letter panel" style="background:#fff;">
          <h2 style="text-align:center; color:var(--primary); margin-top:0;">A Letter From Susan</h2>
          <p>Dear Parent,</p>
          <p>Because of your care, I grew up to be a <strong>${personality} ${path}</strong>.<br>
          I‚Äôll never forget the love, the bedtime stories, and your endless support. You are my world.</p>
          <p style="text-align:right;">With all my heart,<br>Susan üíï</p>
        </div>
        
        <h2 style="text-align:center;color:var(--primary);margin-top:30px;font-size:1.8em;">Susan‚Äôs Life Gallery</h2>
        <div id="lifeGallery"></div>
        
        <details class="panel" style="background:#fdfdfd; margin-top:20px;">
          <summary style="font-weight:600; color:var(--text);">üìñ View Full Journal</summary>
          <div style="background:var(--bg-light);padding:10px;border-radius:6px;margin-top:10px;max-height:200px;overflow:auto; border:1px solid #eee;">
            ${susan.journal.map(e => `‚Ä¢ ${e}`).join('<br>')}
          </div>
        </details>
      `;
      document.getElementById('finalScene').innerHTML = galleryHTML;

      // Add stages with animation
      const stages = [
        {
          title: "üë∂ Baby Susan",
          avatar: "üë∂",
          story: `Born at ${susan.hospital}, Susan was fragile but quickly learned the world was safe because you were there to feed and comfort her.`
        },
        {
          title: "üßí Child Susan",
          avatar: "üßí",
          story: `Full of questions, laughter, and endless energy. Every story you read shaped her curious mind, helping her to grow smart and happy.`
        },
        {
          title: "üë© Young Adult",
          avatar: "üë©",
          story: `At 18, she is a confident ${path}, ready to take on the world, shaped by your unwavering love and guidance.`
        }
      ];

      const gallery = document.getElementById('lifeGallery');
      stages.forEach((stage, i) => {
        setTimeout(() => {
          const div = document.createElement('div');
          div.className = 'stage panel';
          div.style.animationDelay = `${i * 1.2}s`;
          div.innerHTML = `
            <h3>${stage.title}</h3>
            <div class="avatar">${stage.avatar}</div>
            <div class="story">${stage.story}</div>
          `;
          gallery.appendChild(div);
        }, 100);
      });
    }

    updateUI();
  </script>
</body>
</html>
